.container
	.position-relative.w-100.bg-dark.text-light{style: "padding-top: 37.5%"}
		.position-absolute.top-0.start-0.bottom-0.end-0
			.row.h-100
				- unless @challenge.photo.nil?
					%img{src: url_for(@challenge.photo.file), alt: "Banner Image of people exercising", width: "100%", style: "height: 100%"}
	.d-flex
		.flex-grow-1.p-2
			%h1 #{@challenge.title}
		- if current_user&.id.in?(@users) and current_user&.admin?
			.p-2
				.dropdown
					%button.btn.btn-dark.btn-lg.dropdown-toggle{type: "button", data:{bs:{toggle: "dropdown"}}, aria:{expanded: "false"}} 
						%i.bi.bi-gear-fill
					%ul.dropdown-menu.dropdown-menu-end.border.border-dark
						%li.mb-0
							= link_to "View My Participant Page", challenge_participant_path(@challenge, @participant.id), class: "dropdown-item", role: "button"
						%li.mb-0
							= link_to "Edit Challenge", edit_challenge_path(@challenge), class: "dropdown-item", role: "button"
						%li.mb-0
							= link_to "Participants (#{@participants.count})", challenge_participants_path(@challenge), class: "dropdown-item", role: "button"
						%li.mb-0
							= link_to "Milestones", challenge_milestones_path(@challenge), class: "dropdown-item", role: "button"
	.row.p-2
		.col-md-6
			.row.mt-4.border.border-dark
				.col-6.p-2
					%strong Start Date and Time
				.col-6.p-2
					= local_time(@challenge.start)
			.row.border.border-dark
				.col-6.p-2
					%strong End Date and Time
				.col-6.p-2
					= local_time(@challenge.end)
		- unless current_user&.id.in?(@users)
			.d-md-none.col-12.text-center.p-4
				= link_to "Register Now", new_challenge_participant_path(@challenge), class: "btn btn-lg btn-dark", role: "button"
			.d-none.d-md-block.col-md-6.text-end.p-4
				= link_to "Register Now", new_challenge_participant_path(@challenge), class: "btn btn-lg btn-dark", role: "button"
		
		- else
			- unless current_user&.admin?
				.d-md-none.col-12.text-center.p-4	
					= link_to "View My Participant Page", challenge_participant_path(@challenge, @participant.id), class: "btn btn-lg btn-dark", role: "button"
				.d-none.d-md-block.col-md-6.text-end		
					= link_to "View My Participant Page", challenge_participant_path(@challenge, @participant.id), class: "btn btn-lg btn-dark", role: "button"
	


	.row.mb-4.mt-4
		.col-6.col-md-3.mx-auto
			.card
				.card-body.position-relative.w-100{style: "padding-top: 100%"}
					.position-absolute.top-0.start-0.bottom-0.end-0.p-4.border-dark{style: "border: 0.5rem solid; border-radius: 50%"} 
						.row.h-100
							.align-self-center.text-center
								.display-4.fw-bolder #{@participants.count}
								.display-6.fw-bolder Participants		
		.col-6.col-md-3.mx-auto
			.card
				.card-body.position-relative.w-100{style: "padding-top: 100%"}
					.position-absolute.top-0.start-0.bottom-0.end-0.p-4.border-dark{style: "border: 0.5rem solid; border-radius: 50%"}
						.row.h-100
							.align-self-center.text-center
								.display-4.fw-bolder 0
								.display-6.fw-bolder Minutes		
		.col-6.col-md-3.mx-auto
			.card
				.card-body.position-relative.w-100{style: "padding-top: 100%"}
					.position-absolute.top-0.start-0.bottom-0.end-0.p-4.border-dark{style: "border: 0.5rem solid; border-radius: 50%"}
						.row.h-100
							.align-self-center.text-center
								.display-4.fw-bolder #{@donor_count}
								.display-6.fw-bolder Donors				
		.col-6.col-md-3.mx-auto
			.card
				.card-body.position-relative.w-100{style: "padding-top: 100%"}
					.position-absolute.top-0.start-0.bottom-0.end-0.p-4.border-dark{style: "border: 0.5rem solid; border-radius: 50%"}
						.row.h-100
							.align-self-center.text-center
								.display-4.fw-bolder #{number_to_currency(@raised, precision: 0)}
								.display-6.fw-bolder Raised				
	.col-lg-8.mt-4.mb-4.mx-auto
		%h2.text-center Description
		= simple_format(@challenge.description)

	- unless @fundraising.count == 0
		%h2.text-center.mt-4 Fundraising Milestones
		.row
			- @fundraising.each do |f|
				.col-6.col-md-3.card.mb-4
					.card-img-top.position-relative.w-100{style: "padding-top: 100%"}
						.position-absolute.top-0.start-0.bottom-0.end-0
							.row.h-100
								- unless f.photo.nil? 
									%img{src: url_for(f.photo.file), alt: "", width: "100%", style: "height: 100%"}	
					.card-body.text-center
						%h3.card-title #{f.name}
						%p.card-text When you reach #{number_to_currency(f.goal, precision: 0)}, you are eligible to earn a #{f.prize}.

		